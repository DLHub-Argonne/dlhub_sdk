language: python
python:
  - "3.6"
cache: pip
env:
  - KERAS_VERSION=2.1.3
  - KERAS_VERSION=2.2.2
before_install:
  - openssl aes-256-cbc -K $encrypted_ac5a6dd41c09_key -iv $encrypted_ac5a6dd41c09_iv
    -in .globus.cfg.enc -out test-files/.globus.cfg -d
  - cp test-files/.globus.cfg ~/
install:
  - pip install --upgrade pip setuptools wheel
  - pip install -e .
  - pip install coveralls
  - pip install --only-binary=numpy,scipy -r requirements.txt
  - pip install -r example-requirements.txt
  - pip install keras==$KERAS_VERSION
  - pip list
script:
  - nosetests --with-coverage --cover-package=dlhub_sdk
  - cd examples
  - "./run_examples.sh"
  - cd ..
after_success: coveralls
